-- Success story example
call execute_attempt($sql$
                      alter table region add constraint region_russia_federal_district_required check (country_id is distinct from 1 /*РФ*/ or federal_district_id is not null) not valid;
                  $sql$)
[2023-03-14 16:49:07] [01000] Attempt 1 of 50 to execute query failed due lock timeout 100ms, next replay after 1.00 second
[2023-03-14 16:49:08] [01000] Attempt 2 of 50 to execute query failed due lock timeout 100ms, next replay after 1.01 second
[2023-03-14 16:49:10] [01000] Attempt 3 of 50 to execute query failed due lock timeout 100ms, next replay after 1.22 second
[2023-03-14 16:49:11] [01000] Attempt 4 of 50 to execute query failed due lock timeout 100ms, next replay after 1.77 second
[2023-03-14 16:49:13] [01000] Attempt 5 of 50 to execute query failed due lock timeout 100ms, next replay after 2.26 second
[2023-03-14 16:49:15] completed in 7 s 832 ms

-- Failed story example
call execute_attempt('alter table person alter column email type varchar(320)')
[2021-11-18 01:39:58] [01000] Attempt 1 of 50 to execute query failed due lock timeout 100ms, next replay after 1.00 second
[2021-11-18 01:40:00] [01000] Attempt 2 of 50 to execute query failed due lock timeout 100ms, next replay after 1.10 second
[2021-11-18 01:40:01] [01000] Attempt 3 of 50 to execute query failed due lock timeout 100ms, next replay after 1.55 second
[2021-11-18 01:40:03] [01000] Attempt 4 of 50 to execute query failed due lock timeout 100ms, next replay after 2.01 second
[2021-11-18 01:40:05] [01000] Attempt 5 of 50 to execute query failed due lock timeout 100ms, next replay after 2.49 second
[2021-11-18 01:40:07] [01000] Attempt 6 of 50 to execute query failed due lock timeout 100ms, next replay after 2.96 second
[2021-11-18 01:40:10] [01000] Attempt 7 of 50 to execute query failed due lock timeout 100ms, next replay after 3.44 second
[2021-11-18 01:40:14] [01000] Attempt 8 of 50 to execute query failed due lock timeout 100ms, next replay after 3.92 second
[2021-11-18 01:40:18] [01000] Attempt 9 of 50 to execute query failed due lock timeout 100ms, next replay after 4.41 second
[2021-11-18 01:40:23] [01000] Attempt 10 of 50 to execute query failed due lock timeout 100ms, next replay after 4.89 second
[2021-11-18 01:40:27] [01000] Attempt 11 of 50 to execute query failed due lock timeout 100ms, next replay after 5.38 second
[2021-11-18 01:40:33] [01000] Attempt 12 of 50 to execute query failed due lock timeout 100ms, next replay after 5.87 second
[2021-11-18 01:40:39] [01000] Attempt 13 of 50 to execute query failed due lock timeout 100ms, next replay after 6.35 second
[2021-11-18 01:40:45] [01000] Attempt 14 of 50 to execute query failed due lock timeout 100ms, next replay after 6.84 second
[2021-11-18 01:40:52] [01000] Attempt 15 of 50 to execute query failed due lock timeout 100ms, next replay after 7.33 second
[2021-11-18 01:41:00] [01000] Attempt 16 of 50 to execute query failed due lock timeout 100ms, next replay after 7.82 second
[2021-11-18 01:41:08] [01000] Attempt 17 of 50 to execute query failed due lock timeout 100ms, next replay after 8.32 second
[2021-11-18 01:41:16] [01000] Attempt 18 of 50 to execute query failed due lock timeout 100ms, next replay after 8.81 second
[2021-11-18 01:41:25] [01000] Attempt 19 of 50 to execute query failed due lock timeout 100ms, next replay after 9.30 second
[2021-11-18 01:41:35] [01000] Attempt 20 of 50 to execute query failed due lock timeout 100ms, next replay after 9.79 second
[2021-11-18 01:41:44] [01000] Attempt 21 of 50 to execute query failed due lock timeout 100ms, next replay after 10.29 second
[2021-11-18 01:41:55] [01000] Attempt 22 of 50 to execute query failed due lock timeout 100ms, next replay after 10.78 second
[2021-11-18 01:42:06] [01000] Attempt 23 of 50 to execute query failed due lock timeout 100ms, next replay after 11.27 second
[2021-11-18 01:42:17] [01000] Attempt 24 of 50 to execute query failed due lock timeout 100ms, next replay after 11.77 second
[2021-11-18 01:42:29] [01000] Attempt 25 of 50 to execute query failed due lock timeout 100ms, next replay after 12.26 second
[2021-11-18 01:42:41] [01000] Attempt 26 of 50 to execute query failed due lock timeout 100ms, next replay after 12.76 second
[2021-11-18 01:42:54] [01000] Attempt 27 of 50 to execute query failed due lock timeout 100ms, next replay after 13.25 second
[2021-11-18 01:43:07] [01000] Attempt 28 of 50 to execute query failed due lock timeout 100ms, next replay after 13.75 second
[2021-11-18 01:43:21] [01000] Attempt 29 of 50 to execute query failed due lock timeout 100ms, next replay after 14.24 second
[2021-11-18 01:43:36] [01000] Attempt 30 of 50 to execute query failed due lock timeout 100ms, next replay after 14.74 second
[2021-11-18 01:43:51] [01000] Attempt 31 of 50 to execute query failed due lock timeout 100ms, next replay after 15.23 second
[2021-11-18 01:44:06] [01000] Attempt 32 of 50 to execute query failed due lock timeout 100ms, next replay after 15.73 second
[2021-11-18 01:44:22] [01000] Attempt 33 of 50 to execute query failed due lock timeout 100ms, next replay after 16.23 second
[2021-11-18 01:44:38] [01000] Attempt 34 of 50 to execute query failed due lock timeout 100ms, next replay after 16.72 second
[2021-11-18 01:44:55] [01000] Attempt 35 of 50 to execute query failed due lock timeout 100ms, next replay after 17.22 second
[2021-11-18 01:45:12] [01000] Attempt 36 of 50 to execute query failed due lock timeout 100ms, next replay after 17.71 second
[2021-11-18 01:45:30] [01000] Attempt 37 of 50 to execute query failed due lock timeout 100ms, next replay after 18.21 second
[2021-11-18 01:45:48] [01000] Attempt 38 of 50 to execute query failed due lock timeout 100ms, next replay after 18.71 second
[2021-11-18 01:46:07] [01000] Attempt 39 of 50 to execute query failed due lock timeout 100ms, next replay after 19.20 second
[2021-11-18 01:46:27] [01000] Attempt 40 of 50 to execute query failed due lock timeout 100ms, next replay after 19.70 second
[2021-11-18 01:46:46] [01000] Attempt 41 of 50 to execute query failed due lock timeout 100ms, next replay after 20.20 second
[2021-11-18 01:47:07] [01000] Attempt 42 of 50 to execute query failed due lock timeout 100ms, next replay after 20.69 second
[2021-11-18 01:47:28] [01000] Attempt 43 of 50 to execute query failed due lock timeout 100ms, next replay after 21.19 second
[2021-11-18 01:47:49] [01000] Attempt 44 of 50 to execute query failed due lock timeout 100ms, next replay after 21.69 second
[2021-11-18 01:48:10] [01000] Attempt 45 of 50 to execute query failed due lock timeout 100ms, next replay after 22.18 second
[2021-11-18 01:48:33] [01000] Attempt 46 of 50 to execute query failed due lock timeout 100ms, next replay after 22.68 second
[2021-11-18 01:48:56] [01000] Attempt 47 of 50 to execute query failed due lock timeout 100ms, next replay after 23.18 second
[2021-11-18 01:49:19] [01000] Attempt 48 of 50 to execute query failed due lock timeout 100ms, next replay after 23.68 second
[2021-11-18 01:49:43] [01000] Attempt 49 of 50 to execute query failed due lock timeout 100ms, next replay after 24.17 second
[2021-11-18 01:50:07] [01000] Attempt 50 of 50 to execute query failed due lock timeout 100ms
[2021-11-18 01:50:07] [55P03] ERROR: canceling statement due to lock timeout
[2021-11-18 01:50:07] Where: SQL statement "alter table person alter column email type varchar(320)"
[2021-11-18 01:50:07] PL/pgSQL function depers.execute_attempt(text,text,integer) line 12 at EXECUTE
